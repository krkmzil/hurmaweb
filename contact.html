<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hakkımızda - KRKT Mühendislik</title>

  <link rel="stylesheet" href="./styles.css">

  <style>
  </style>
</head>
<body>

  <!-- ÜST MENÜ -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand" style="display:flex;align-items:center;gap:10px;">
        <img src="assets/images/krktkrkmz.png" alt="KRKT Logo" class="brand-logo" style="height:45px;">
        <span class="brand-text" style="font-weight:700;font-size:1.3rem;color:#e4e9f2;">KRKT</span>
      </div>
      <button class="nav-toggle" id="nav-toggle" type="button" aria-label="Menüyü aç/kapat" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="nav" id="site-nav">
        <a href="index.html">Ana Sayfa</a>
        <a href="contact.html">İletişim</a>
        <a href="hakkımızda.html">Hakkımızda</a>
      </nav>
    </div>
  </header>
  <main>
    <!-- İLETİŞİM FORMU (yalnızca <main> içine) -->
<section class="contact-wrap">
  <style>
    .contact-wrap{max-width:1120px;margin:40px auto;padding:0 24px}
    .contact-title{color:#e4e9f2;font-weight:800;font-size:2rem;letter-spacing:.2px;margin:0 0 8px}
    .contact-sub{color:#b9c3d4;margin:0 0 28px}
    .contact-card{
      margin:auto;max-width:860px;background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;
      box-shadow:0 14px 34px rgba(0,0,0,.35)
    }
    .contact-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width:700px){.contact-row{grid-template-columns:1fr}}
    .field{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
    .field label{color:#cdd6e3;font-weight:700}
    .input, .textarea{
      width:100%;color:#eaf0fb;background:#0e1116;border:1px solid rgba(255,255,255,.14);
      border-radius:12px;padding:14px 16px;font-size:1rem;outline:none;
      transition:border-color .2s ease, box-shadow .2s ease
    }
    .textarea{min-height:180px;resize:vertical}
    .input:focus, .textarea:focus{border-color:#8fb3ff;box-shadow:0 0 0 3px rgba(143,179,255,.18)}
    .error{color:#ff6b6b;font-size:.92rem}
    .btn-send{
      width:160px;justify-self:center;margin-top:8px;padding:12px 18px;border-radius:12px;border:none;
      background:#6b7c8f;color:#0b0d11;font-weight:800;cursor:pointer
    }
    .note{color:#8a95a7;font-size:.9rem;margin-top:14px;text-align:center}
    .toast{
      display:none;margin:16px auto 0;border-radius:12px;padding:12px 16px;
      background:#122917;color:#b9ffd1;border:1px solid #2da860;max-width:860px
    }
    .toast.err{background:#2b1313;color:#ffd9d9;border-color:#b44}
  </style>

  <h2 class="contact-title">Bize Ulaşın</h2>
  <p class="contact-sub">Bize mesaj atın! Dönüşleri aynı gün içinde yapmaya çalışıyoruz.</p>

  <div class="contact-card">
    <form id="iletisimForm" novalidate>
      <div class="contact-row">
        <div class="field">
          <label for="name">Ad</label>
          <input class="input" id="name" name="name" type="text" placeholder="Ad Soyad" required>
        </div>
        <div class="field">
          <label for="email">E-posta*</label>
          <input class="input" id="email" name="email" type="email" placeholder="ornek@mail.com" required>
          <span class="error" id="emailErr" style="display:none;">Lütfen geçerli bir e-posta adresi girin.</span>
        </div>
      </div>
      <div class="field">
        <label for="message">Mesaj</label>
        <textarea class="textarea" id="message" name="message" placeholder="Size nasıl yardımcı olabiliriz?" required></textarea>
      </div>

      <div style="display:grid;place-items:center;">
        <button class="btn-send" type="submit" aria-label="Gönder" disabled id="sendBtn">Gönder</button>
      </div>
      <p class="note">Bu form sayfadan ayrılmadan gönderilir; yönlendirme yok.</p>
    </form>
  </div>

  <div id="toastOk" class="toast">Teşekkürler! Mesajın gönderildi. En kısa sürede dönüş yapacağız.</div>
  <div id="toastErr" class="toast err">Üzgünüz, şu an gönderilemedi. Lütfen biraz sonra tekrar deneyin.</div>

  <script>
    // --- Basit doğrulama + gönderim ---
    const f = document.getElementById('iletisimForm');
    const email = document.getElementById('email');
    const emailErr = document.getElementById('emailErr');
    const btn = document.getElementById('sendBtn');
    const ok = document.getElementById('toastOk');
    const err = document.getElementById('toastErr');

    // Formspree / Apps Script uç noktası (Aşağıdaki satırı kendi URL'inle değiştir)
    const ENDPOINT = 'YOUR_ENDPOINT_URL_HERE';

    // e-posta formatı doğruysa butonu aktif et
    function validateEmail(){
      const good = email.checkValidity();
      emailErr.style.display = good ? 'none' : 'block';
      btn.disabled = !good;
    }
    email.addEventListener('input', validateEmail);
    validateEmail();

    f.addEventListener('submit', async (e) => {
      e.preventDefault();
      ok.style.display = 'none'; err.style.display = 'none';
      btn.disabled = true;

      const data = {
        name: f.name.value.trim(),
        email: f.email.value.trim(),
        message: f.message.value.trim()
      };

      try {
        const r = await fetch(ENDPOINT, {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify(data)
        });
        if (!r.ok) throw new Error('HTTP '+r.status);
        f.reset(); validateEmail();
        ok.style.display = 'block';
      } catch (e2) {
        err.style.display = 'block';
      } finally {
        btn.disabled = false;
      }
    });
  </script>
</section>

  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>© <span id="year"></span> <span data-i18n="brand">Hurma Temizleme Makinesi</span></p>
      <a href="#top" class="to-top" aria-label="Yukarı dön" data-i18n-attr="aria-label:footer.toTop">↑</a>
    </div>
  </footer>

  <!-- ▼ Dropdown'ı "kaydırmadan kapanma" sorununa karşı stabilize et -->
  <script>
    (function(){
      const wrap = document.getElementById('ht-dropdown');
      if (!wrap) return;

      const trigger = wrap.querySelector('.ht-trigger');
      const panel   = wrap.querySelector('.dd');
      if (!trigger || !panel) return;

      let hideTimer = null;

      function openPanel(){
        clearTimeout(hideTimer);
        panel.style.display = 'block';
      }
      function scheduleClose(){
        clearTimeout(hideTimer);
        hideTimer = setTimeout(()=>{ panel.style.display='none'; }, 180); // 180ms tolerans
      }

      // Masaüstü: hover ile aç/kapa (toleranslı)
      trigger.addEventListener('mouseenter', openPanel);
      trigger.addEventListener('mouseleave', scheduleClose);
      panel  .addEventListener('mouseenter', openPanel);
      panel  .addEventListener('mouseleave', scheduleClose);

      // Mobil: tıklayınca aç/kapa
      trigger.addEventListener('click', function(e){
        if (window.matchMedia('(max-width: 800px)').matches) {
          e.preventDefault();
          panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
        }
      });
    })();
  </script>
  <!-- ▲ -->

  <script src="./script.js" defer></script>
</body>
</html>
